<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasy Football Playoff Pool</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        const { AlertCircle, CheckCircle, Send } = lucide;

        const FantasyPlayoffPool = () => {
import React, { useState, useEffect } from 'react';
import { AlertCircle, CheckCircle, Send } from 'lucide-react';

const FantasyPlayoffPool = () => {
  // Sample playoff teams and players (you'll need to update these with actual 2024-25 playoff teams)
  const playoffTeams = {
    'KC': { name: 'Kansas City Chiefs', players: {
      QB: ['Patrick Mahomes'],
      RB: ['Isiah Pacheco', 'Clyde Edwards-Helaire'],
      WR: ['Rashee Rice', 'Justin Watson', 'Mecole Hardman'],
      TE: ['Travis Kelce', 'Noah Gray'],
      K: ['Harrison Butker'],
      DEF: ['Chris Jones', 'L\'Jarius Sneed'],
      DST: ['Chiefs Defense']
    }},
    'BUF': { name: 'Buffalo Bills', players: {
      QB: ['Josh Allen'],
      RB: ['James Cook', 'Ty Johnson'],
      WR: ['Stefon Diggs', 'Gabe Davis', 'Khalil Shakir'],
      TE: ['Dalton Kincaid', 'Dawson Knox'],
      K: ['Tyler Bass'],
      DEF: ['Von Miller', 'Matt Milano'],
      DST: ['Bills Defense']
    }},
    'BAL': { name: 'Baltimore Ravens', players: {
      QB: ['Lamar Jackson'],
      RB: ['Gus Edwards', 'Justice Hill'],
      WR: ['Zay Flowers', 'Rashod Bateman', 'Nelson Agholor'],
      TE: ['Mark Andrews', 'Isaiah Likely'],
      K: ['Justin Tucker'],
      DEF: ['Roquan Smith', 'Kyle Hamilton'],
      DST: ['Ravens Defense']
    }},
    'HOU': { name: 'Houston Texans', players: {
      QB: ['C.J. Stroud'],
      RB: ['Devin Singletary', 'Dare Ogunbowale'],
      WR: ['Nico Collins', 'Tank Dell', 'Robert Woods'],
      TE: ['Dalton Schultz', 'Brevin Jordan'],
      K: ['Ka\'imi Fairbairn'],
      DEF: ['Will Anderson Jr.', 'Danielle Hunter'],
      DST: ['Texans Defense']
    }},
    'PIT': { name: 'Pittsburgh Steelers', players: {
      QB: ['Russell Wilson', 'Justin Fields'],
      RB: ['Najee Harris', 'Jaylen Warren'],
      WR: ['George Pickens', 'Calvin Austin III', 'Van Jefferson'],
      TE: ['Pat Freiermuth', 'Darnell Washington'],
      K: ['Chris Boswell'],
      DEF: ['T.J. Watt', 'Minkah Fitzpatrick'],
      DST: ['Steelers Defense']
    }},
    'LAC': { name: 'LA Chargers', players: {
      QB: ['Justin Herbert'],
      RB: ['Gus Edwards', 'Hassan Haskins'],
      WR: ['Ladd McConkey', 'Joshua Palmer', 'Quentin Johnston'],
      TE: ['Will Dissly', 'Stone Smartt'],
      K: ['Cameron Dicker'],
      DEF: ['Khalil Mack', 'Derwin James'],
      DST: ['Chargers Defense']
    }},
    'DEN': { name: 'Denver Broncos', players: {
      QB: ['Bo Nix'],
      RB: ['Javonte Williams', 'Jaleel McLaughlin'],
      WR: ['Courtland Sutton', 'Marvin Mims Jr.', 'Devaughn Vele'],
      TE: ['Adam Trautman', 'Lucas Krull'],
      K: ['Wil Lutz'],
      DEF: ['Patrick Surtain II', 'Zach Allen'],
      DST: ['Broncos Defense']
    }},
    'PHI': { name: 'Philadelphia Eagles', players: {
      QB: ['Jalen Hurts'],
      RB: ['Saquon Barkley', 'Kenneth Gainwell'],
      WR: ['A.J. Brown', 'DeVonta Smith', 'Jahan Dotson'],
      TE: ['Dallas Goedert', 'Grant Calcaterra'],
      K: ['Jake Elliott'],
      DEF: ['Jalen Carter', 'Zack Baun'],
      DST: ['Eagles Defense']
    }},
    'DET': { name: 'Detroit Lions', players: {
      QB: ['Jared Goff'],
      RB: ['Jahmyr Gibbs', 'David Montgomery'],
      WR: ['Amon-Ra St. Brown', 'Jameson Williams', 'Kalif Raymond'],
      TE: ['Sam LaPorta', 'Brock Wright'],
      K: ['Jake Bates'],
      DEF: ['Aidan Hutchinson', 'Brian Branch'],
      DST: ['Lions Defense']
    }},
    'TB': { name: 'Tampa Bay Buccaneers', players: {
      QB: ['Baker Mayfield'],
      RB: ['Bucky Irving', 'Rachaad White'],
      WR: ['Mike Evans', 'Jalen McMillan', 'Sterling Shepard'],
      TE: ['Cade Otton', 'Payne Durham'],
      K: ['Chase McLaughlin'],
      DEF: ['Lavonte David', 'Antoine Winfield Jr.'],
      DST: ['Buccaneers Defense']
    }},
    'WAS': { name: 'Washington Commanders', players: {
      QB: ['Jayden Daniels'],
      RB: ['Brian Robinson Jr.', 'Austin Ekeler'],
      WR: ['Terry McLaurin', 'Dyami Brown', 'Olamide Zaccheaus'],
      TE: ['Zach Ertz', 'Ben Sinnott'],
      K: ['Zane Gonzalez'],
      DEF: ['Bobby Wagner', 'Frankie Luvu'],
      DST: ['Commanders Defense']
    }},
    'LAR': { name: 'LA Rams', players: {
      QB: ['Matthew Stafford'],
      RB: ['Kyren Williams', 'Blake Corum'],
      WR: ['Puka Nacua', 'Cooper Kupp', 'Demarcus Robinson'],
      TE: ['Tyler Higbee', 'Colby Parkinson'],
      K: ['Joshua Karty'],
      DEF: ['Jared Verse', 'Kobie Turner'],
      DST: ['Rams Defense']
    }},
    'MIN': { name: 'Minnesota Vikings', players: {
      QB: ['Sam Darnold'],
      RB: ['Aaron Jones', 'Ty Chandler'],
      WR: ['Justin Jefferson', 'Jordan Addison', 'Jalen Nailor'],
      TE: ['T.J. Hockenson', 'Josh Oliver'],
      K: ['Will Reichard'],
      DEF: ['Jonathan Greenard', 'Harrison Smith'],
      DST: ['Vikings Defense']
    }},
    'GB': { name: 'Green Bay Packers', players: {
      QB: ['Jordan Love'],
      RB: ['Josh Jacobs', 'Emanuel Wilson'],
      WR: ['Jayden Reed', 'Romeo Doubs', 'Dontayvion Wicks'],
      TE: ['Tucker Kraft', 'Luke Musgrave'],
      K: ['Brandon McManus'],
      DEF: ['Rashan Gary', 'Xavier McKinney'],
      DST: ['Packers Defense']
    }}
  };

  const positions = [
    { key: 'QB', name: 'Quarterback', count: 3, type: 'QB' },
    { key: 'RB', name: 'Running Back', count: 3, type: 'RB' },
    { key: 'WR', name: 'Wide Receiver', count: 3, type: 'WR' },
    { key: 'TE', name: 'Tight End', count: 1, type: 'TE' },
    { key: 'FLEX', name: 'Flex (RB/WR/TE)', count: 1, type: 'FLEX' },
    { key: 'K', name: 'Kicker', count: 1, type: 'K' },
    { key: 'DEF', name: 'Defensive Player', count: 1, type: 'DEF' },
    { key: 'DST', name: 'Team Defense', count: 1, type: 'DST' }
  ];

  const [roster, setRoster] = useState({});
  const [submitted, setSubmitted] = useState(false);
  const [submittedRoster, setSubmittedRoster] = useState(null);
  const [participantEmail, setParticipantEmail] = useState('');
  const [sendingEmail, setSendingEmail] = useState(false);

  const getTeamFromPlayer = (playerName) => {
    for (const [teamCode, teamData] of Object.entries(playoffTeams)) {
      for (const players of Object.values(teamData.players)) {
        if (players.includes(playerName)) {
          return teamCode;
        }
      }
    }
    return null;
  };

  const getUsedTeams = () => {
    const teams = new Set();
    Object.values(roster).forEach(player => {
      if (player) {
        const team = getTeamFromPlayer(player);
        if (team) teams.add(team);
      }
    });
    return teams;
  };

  const getAvailablePlayers = (positionType, currentSlot) => {
    const usedTeams = getUsedTeams();
    const currentPlayer = roster[currentSlot];
    const currentTeam = currentPlayer ? getTeamFromPlayer(currentPlayer) : null;
    
    let allPlayers = [];
    
    if (positionType === 'FLEX') {
      Object.entries(playoffTeams).forEach(([teamCode, teamData]) => {
        ['RB', 'WR', 'TE'].forEach(pos => {
          teamData.players[pos]?.forEach(player => {
            allPlayers.push({ player, team: teamCode, teamName: teamData.name });
          });
        });
      });
    } else {
      Object.entries(playoffTeams).forEach(([teamCode, teamData]) => {
        teamData.players[positionType]?.forEach(player => {
          allPlayers.push({ player, team: teamCode, teamName: teamData.name });
        });
      });
    }
    
    return allPlayers.map(({ player, team, teamName }) => ({
      player,
      team,
      teamName,
      disabled: usedTeams.has(team) && team !== currentTeam
    }));
  };

  const handlePlayerSelect = (slot, player) => {
    setRoster(prev => ({ ...prev, [slot]: player }));
  };

  const isFormComplete = () => {
    let requiredSlots = 0;
    positions.forEach(pos => {
      for (let i = 1; i <= pos.count; i++) {
        requiredSlots++;
      }
    });
    
    const filledSlots = Object.values(roster).filter(v => v).length;
    return filledSlots === requiredSlots;
  };

  const formatRosterEmail = (rosterData) => {
    let emailBody = 'FANTASY FOOTBALL PLAYOFF POOL SUBMISSION\n';
    emailBody += '='.repeat(50) + '\n\n';
    
    positions.forEach(pos => {
      emailBody += `${pos.name}${pos.count > 1 ? 's' : ''}:\n`;
      Array.from({ length: pos.count }, (_, i) => {
        const slot = `${pos.key}${pos.count > 1 ? i + 1 : ''}`;
        const player = rosterData[slot];
        const team = getTeamFromPlayer(player);
        emailBody += `  • ${player} (${playoffTeams[team]?.name})\n`;
      });
      emailBody += '\n';
    });
    
    emailBody += '='.repeat(50) + '\n';
    emailBody += 'Good luck!\n';
    
    return emailBody;
  };

  const handleSubmit = async () => {
    if (!isFormComplete()) {
      alert('Please complete all roster selections!');
      return;
    }

    const usedTeams = getUsedTeams();
    if (usedTeams.size !== 14) {
      alert('Error: You must select exactly one player from each of the 14 playoff teams!');
      return;
    }

    const submissionData = { ...roster, participantEmail };
    setSubmittedRoster(submissionData);
    setSubmitted(true);

    // Send email to organizer
    const organizerEmailBody = formatRosterEmail(submissionData);
    const organizerSubject = 'Fantasy Playoff Pool Submission';
    const organizerMailto = `mailto:adams.nick12@gmail.com?subject=${encodeURIComponent(organizerSubject)}&body=${encodeURIComponent(organizerEmailBody)}`;
    
    // Send confirmation email to participant if they provided an email
    if (participantEmail.trim()) {
      setSendingEmail(true);
      const participantEmailBody = formatRosterEmail(submissionData);
      const participantSubject = 'Your Fantasy Playoff Pool Roster';
      const participantMailto = `mailto:${participantEmail}?subject=${encodeURIComponent(participantSubject)}&body=${encodeURIComponent(participantEmailBody)}`;
      
      // Open mailto links
      window.open(organizerMailto);
      setTimeout(() => {
        window.open(participantMailto);
        setSendingEmail(false);
      }, 500);
    } else {
      window.open(organizerMailto);
    }
  };

  const handleReset = () => {
    setSubmitted(false);
    setSubmittedRoster(null);
    setRoster({});
    setParticipantEmail('');
    setSendingEmail(false);
  };

  if (submitted && submittedRoster) {
    return (
      <div className="min-h-screen p-6" style={{ background: 'linear-gradient(135deg, #662B00 0%, #993F00 50%, #CC5500 100%)' }}>
        <div className="max-w-4xl mx-auto bg-white rounded-lg shadow-2xl p-8">
          <div className="text-center mb-8">
            <CheckCircle className="w-16 h-16 mx-auto mb-4" style={{ color: '#34D399' }} />
            <h1 className="text-3xl font-bold mb-2" style={{ color: '#333333' }}>Submission Successful!</h1>
            <p style={{ color: '#8B95A5' }}>Your roster has been recorded. Good luck!</p>
          </div>

          <div className="rounded-lg p-6 mb-6" style={{ backgroundColor: '#F5F5F5' }}>
            <h2 className="text-xl font-bold mb-4" style={{ color: '#333333' }}>Your Roster</h2>
            
            {positions.map(pos => (
              <div key={pos.key} className="mb-4">
                <h3 className="font-semibold mb-2" style={{ color: '#5B7C99' }}>{pos.name}s:</h3>
                <div className="ml-4">
                  {Array.from({ length: pos.count }, (_, i) => {
                    const slot = `${pos.key}${pos.count > 1 ? i + 1 : ''}`;
                    const player = submittedRoster[slot];
                    const team = getTeamFromPlayer(player);
                    return (
                      <div key={slot} className="mb-1" style={{ color: '#8B95A5' }}>
                        {player} ({playoffTeams[team]?.name})
                      </div>
                    );
                  })}
                </div>
              </div>
            ))}
          </div>

          <div className="text-center text-sm mb-4" style={{ color: '#8B95A5' }}>
            <p>Save or screenshot this page for your records.</p>
            {submittedRoster.participantEmail && (
              <p className="mt-2">A confirmation has been sent to {submittedRoster.participantEmail}</p>
            )}
            <p className="mt-2">Your submission has been sent to adams.nick12@gmail.com</p>
          </div>

          <button
            onClick={handleReset}
            className="w-full font-semibold py-3 rounded-lg transition text-white"
            style={{ backgroundColor: '#CC5500' }}
            onMouseOver={(e) => e.target.style.backgroundColor = '#993F00'}
            onMouseOut={(e) => e.target.style.backgroundColor = '#CC5500'}
          >
            Submit Another Entry
          </button>
        </div>
      </div>
    );
  }

  const usedTeams = getUsedTeams();

  return (
    <div className="min-h-screen p-6" style={{ background: 'linear-gradient(135deg, #662B00 0%, #993F00 50%, #CC5500 100%)' }}>
      <div className="max-w-4xl mx-auto bg-white rounded-lg shadow-2xl p-8">
        <h1 className="text-4xl font-bold text-center mb-2" style={{ color: '#333333' }}>
          Fantasy Football Playoff Pool
        </h1>
        <p className="text-center mb-8" style={{ color: '#8B95A5' }}>Select ONE player from each playoff team</p>

        <div className="rounded-lg p-4 mb-6" style={{ backgroundColor: '#DBE3EB', borderColor: '#5B7C99', borderWidth: '1px' }}>
          <h3 className="font-semibold mb-2" style={{ color: '#2D3E4D' }}>Rules:</h3>
          <ul className="text-sm space-y-1 ml-4" style={{ color: '#445D73' }}>
            <li>• Select 1 player from each of the 14 playoff teams</li>
            <li>• All players start each week and accrue points</li>
            <li>• Tiebreaker: Total points in Super Bowl, then conference championships</li>
          </ul>
        </div>

        <div className="mb-6 rounded-lg p-4" style={{ backgroundColor: '#F5F5F5' }}>
          <div className="flex justify-between items-center">
            <span className="font-semibold" style={{ color: '#333333' }}>Teams Used:</span>
            <span className="text-2xl font-bold" style={{ color: '#333333' }}>{usedTeams.size} / 14</span>
          </div>
          {usedTeams.size > 0 && (
            <div className="mt-2 flex flex-wrap gap-2">
              {Array.from(usedTeams).map(team => (
                <span key={team} className="px-3 py-1 rounded-full text-sm" style={{ backgroundColor: '#CFF4E5', color: '#1A6A4D' }}>
                  {playoffTeams[team]?.name}
                </span>
              ))}
            </div>
          )}
        </div>

        {positions.map(pos => (
          <div key={pos.key} className="mb-8">
            <h2 className="text-xl font-bold mb-4" style={{ color: '#333333' }}>
              {pos.name}{pos.count > 1 ? 's' : ''} ({pos.count})
            </h2>
            
            {Array.from({ length: pos.count }, (_, i) => {
              const slot = `${pos.key}${pos.count > 1 ? i + 1 : ''}`;
              const availablePlayers = getAvailablePlayers(pos.type, slot);
              const selectedPlayer = roster[slot];
              const selectedTeam = selectedPlayer ? getTeamFromPlayer(selectedPlayer) : null;
              
              return (
                <div key={slot} className="mb-4">
                  <label className="block text-sm font-medium mb-2" style={{ color: '#333333' }}>
                    {pos.name} {pos.count > 1 ? `#${i + 1}` : ''}
                  </label>
                  <select
                    value={selectedPlayer || ''}
                    onChange={(e) => handlePlayerSelect(slot, e.target.value)}
                    className="w-full p-3 border rounded-lg"
                    style={{ borderColor: '#CCCCCC' }}
                  >
                    <option value="">-- Select {pos.name} --</option>
                    {availablePlayers.map(({ player, team, teamName, disabled }) => (
                      <option key={player} value={player} disabled={disabled}>
                        {player} ({teamName}) {disabled ? '- TEAM USED' : ''}
                      </option>
                    ))}
                  </select>
                  {selectedTeam && (
                    <p className="text-sm mt-1" style={{ color: '#34D399' }}>
                      ✓ {playoffTeams[selectedTeam]?.name}
                    </p>
                  )}
                </div>
              );
            })}
          </div>
        ))}

        <div className="mb-8 rounded-lg p-4" style={{ backgroundColor: '#DED1F2', borderColor: '#6B46C1', borderWidth: '1px' }}>
          <h2 className="text-xl font-bold mb-4" style={{ color: '#333333' }}>Email Confirmation (Optional)</h2>
          <label className="block text-sm font-medium mb-2" style={{ color: '#333333' }}>
            Your Email Address
          </label>
          <input
            type="email"
            value={participantEmail}
            onChange={(e) => setParticipantEmail(e.target.value)}
            placeholder="your.email@example.com (optional)"
            className="w-full p-3 border rounded-lg"
            style={{ borderColor: '#CCCCCC' }}
          />
          <p className="text-sm mt-2" style={{ color: '#503591' }}>
            Enter your email to receive a copy of your roster submission
          </p>
        </div>

        {usedTeams.size !== 14 && usedTeams.size > 0 && (
          <div className="mb-4 rounded-lg p-4 flex items-start gap-3" style={{ backgroundColor: '#FEF3D1', borderColor: '#FCD34D', borderWidth: '1px' }}>
            <AlertCircle className="w-5 h-5 flex-shrink-0 mt-0.5" style={{ color: '#7E6A27' }} />
            <div>
              <p className="font-semibold" style={{ color: '#7E6A27' }}>Warning: Team Requirement Not Met</p>
              <p className="text-sm" style={{ color: '#BD9F3A' }}>
                You must select exactly one player from each of the 14 playoff teams. 
                Currently using {usedTeams.size} teams.
              </p>
            </div>
          </div>
        )}

        <button
          onClick={handleSubmit}
          disabled={!isFormComplete()}
          className={`w-full py-4 rounded-lg font-bold text-lg transition flex items-center justify-center gap-2 ${
            isFormComplete()
              ? 'text-white cursor-pointer'
              : 'cursor-not-allowed'
          }`}
          style={{ 
            backgroundColor: isFormComplete() ? '#CC5500' : '#CCCCCC',
            color: isFormComplete() ? '#FFFFFF' : '#8B95A5'
          }}
          onMouseOver={(e) => {
            if (isFormComplete()) e.target.style.backgroundColor = '#993F00';
          }}
          onMouseOut={(e) => {
            if (isFormComplete()) e.target.style.backgroundColor = '#CC5500';
          }}
        >
          <Send className="w-5 h-5" />
          Submit Roster
        </button>
      </div>
    </div>
  );
};

export default FantasyPlayoffPool;
        };

        ReactDOM.render(<FantasyPlayoffPool />, document.getElementById('root'));
    </script>
</body>
</html>
